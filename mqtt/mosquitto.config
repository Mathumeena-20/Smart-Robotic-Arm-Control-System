# Mosquitto MQTT Broker Configuration

# -------------------------------------------------------------------
# General Settings
# -------------------------------------------------------------------
persistence true
persistence_location /mosquitto/data/

log_dest stdout
log_type all
connection_messages true
log_timestamp true

# -------------------------------------------------------------------
# Listener Settings
# -------------------------------------------------------------------
# Default MQTT listener on port 1883
listener 1883

# Allow anonymous access (for development)
allow_anonymous true

# For production, disable anonymous and use password file:
# allow_anonymous false
# password_file /mosquitto/config/passwordfile

# -------------------------------------------------------------------
# WebSocket listener (optional, for frontend apps)
# Uncomment if needed
# listener 9001
# protocol websockets

# -------------------------------------------------------------------
# Security Options
# -------------------------------------------------------------------
# For secure communication, configure TLS certificates:
# cafile /mosquitto/certs/ca.crt
# certfile /mosquitto/certs/server.crt
# keyfile /mosquitto/certs/server.key
